// This is your Prisma schema file,
// learn more about it in the docs: https://pris.ly/d/prisma-schema

generator client {
  provider = "prisma-client-js"
}

datasource db {
  provider = "postgresql"
  url      = env("DATABASE_URL")
}

model Province {
  id                 Int               @id @default(autoincrement())
  name               String
  capital            String
  slug               String
  language           String[]
  topCities          String[]          @map("top_cities")
  immigrationRanking Int               @map("immigration_ranking")
  imageUrl           String            @map("image_url")
  flagUrl            String            @map("flag_url")
  overview           ProvinceOverview?

  @@map("Provinces")
}

model ProvinceOverview {
  id         Int             @id @default(autoincrement())
  province   Province        @relation(fields: [provinceId], references: [id])
  provinceId Int             @unique @map("province_id")
  scores     ProvinceScore[] @relation("scores")
}

model ProvinceScore {
  id         Int              @id @default(autoincrement())
  name       String
  score      Float
  emoji      String
  overview   ProvinceOverview @relation("scores", fields: [overviewId], references: [id])
  overviewId Int              @map("overview_id")

  @@map("ProvinceScores")
}
